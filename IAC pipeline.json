{"source":2,"revision":16,"description":null,"createdBy":{"displayName":"Abhishek Reddy","url":"https://spsprodsin2.vssps.visualstudio.com/A192e81e9-4569-438c-94ea-0c8013254f27/_apis/Identities/df18bf81-e6af-61e7-a1e6-cc66ec1646cc","_links":{"avatar":{"href":"https://dev.azure.com/kasulaabhishekreddy21/_apis/GraphProfile/MemberAvatars/msa.ZGYxOGJmODEtZTZhZi03MWU3LWExZTYtY2M2NmVjMTY0NmNj"}},"id":"df18bf81-e6af-61e7-a1e6-cc66ec1646cc","uniqueName":"kasula.abhishekreddy21@gmail.com","imageUrl":"https://dev.azure.com/kasulaabhishekreddy21/_apis/GraphProfile/MemberAvatars/msa.ZGYxOGJmODEtZTZhZi03MWU3LWExZTYtY2M2NmVjMTY0NmNj","descriptor":"msa.ZGYxOGJmODEtZTZhZi03MWU3LWExZTYtY2M2NmVjMTY0NmNj"},"createdOn":"2023-05-25T08:50:48.043Z","modifiedBy":{"displayName":"Abhishek Reddy","url":"https://spsprodsin2.vssps.visualstudio.com/A192e81e9-4569-438c-94ea-0c8013254f27/_apis/Identities/df18bf81-e6af-61e7-a1e6-cc66ec1646cc","_links":{"avatar":{"href":"https://dev.azure.com/kasulaabhishekreddy21/_apis/GraphProfile/MemberAvatars/msa.ZGYxOGJmODEtZTZhZi03MWU3LWExZTYtY2M2NmVjMTY0NmNj"}},"id":"df18bf81-e6af-61e7-a1e6-cc66ec1646cc","uniqueName":"kasula.abhishekreddy21@gmail.com","imageUrl":"https://dev.azure.com/kasulaabhishekreddy21/_apis/GraphProfile/MemberAvatars/msa.ZGYxOGJmODEtZTZhZi03MWU3LWExZTYtY2M2NmVjMTY0NmNj","descriptor":"msa.ZGYxOGJmODEtZTZhZi03MWU3LWExZTYtY2M2NmVjMTY0NmNj"},"modifiedOn":"2023-06-01T09:30:29.007Z","isDeleted":false,"lastRelease":{"id":56,"name":"Release-29","artifacts":[],"_links":{},"description":"","releaseDefinition":{"id":1,"projectReference":null,"_links":{}},"createdOn":"2023-06-01T09:30:31.080Z","createdBy":{"displayName":"Abhishek Reddy","url":"https://spsprodsin2.vssps.visualstudio.com/A192e81e9-4569-438c-94ea-0c8013254f27/_apis/Identities/df18bf81-e6af-61e7-a1e6-cc66ec1646cc","_links":{"avatar":{"href":"https://dev.azure.com/kasulaabhishekreddy21/_apis/GraphProfile/MemberAvatars/msa.ZGYxOGJmODEtZTZhZi03MWU3LWExZTYtY2M2NmVjMTY0NmNj"}},"id":"df18bf81-e6af-61e7-a1e6-cc66ec1646cc","uniqueName":"kasula.abhishekreddy21@gmail.com","imageUrl":"https://dev.azure.com/kasulaabhishekreddy21/_apis/GraphProfile/MemberAvatars/msa.ZGYxOGJmODEtZTZhZi03MWU3LWExZTYtY2M2NmVjMTY0NmNj","descriptor":"msa.ZGYxOGJmODEtZTZhZi03MWU3LWExZTYtY2M2NmVjMTY0NmNj"}},"variables":{},"variableGroups":[],"environments":[{"id":1,"name":"Stage 1","rank":1,"owner":{"displayName":"Abhishek Reddy","url":"https://spsprodsin2.vssps.visualstudio.com/A192e81e9-4569-438c-94ea-0c8013254f27/_apis/Identities/df18bf81-e6af-61e7-a1e6-cc66ec1646cc","_links":{"avatar":{"href":"https://dev.azure.com/kasulaabhishekreddy21/_apis/GraphProfile/MemberAvatars/msa.ZGYxOGJmODEtZTZhZi03MWU3LWExZTYtY2M2NmVjMTY0NmNj"}},"id":"df18bf81-e6af-61e7-a1e6-cc66ec1646cc","uniqueName":"kasula.abhishekreddy21@gmail.com","imageUrl":"https://dev.azure.com/kasulaabhishekreddy21/_apis/GraphProfile/MemberAvatars/msa.ZGYxOGJmODEtZTZhZi03MWU3LWExZTYtY2M2NmVjMTY0NmNj","descriptor":"msa.ZGYxOGJmODEtZTZhZi03MWU3LWExZTYtY2M2NmVjMTY0NmNj"},"variables":{},"variableGroups":[],"preDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":1}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":1}},"deployStep":{"id":2},"postDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":3}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":2}},"deployPhases":[{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":null,"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[]},"queueId":20,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":1,"phaseType":1,"name":"Agent job","refName":null,"workflowTasks":[{"environment":{},"taskId":"a4789e5d-f6e8-431f-add9-379d640a883c","version":"1.*","name":"Install Terraform latest","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"terraformVersion":"latest"}},{"environment":{},"taskId":"fe504acc-6115-40cb-89ff-191386b5e7bf","version":"4.*","name":"Terraform : azurerm","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"provider":"azurerm","command":"init","workingDirectory":"$(System.DefaultWorkingDirectory)/_IAC_Configuration/terraform modules","customCommand":"","commandOptions":"","outputTo":"console","outputFormat":"default","fileName":"","environmentServiceNameAzureRM":"","environmentServiceNameAWS":"","environmentServiceNameGCP":"","backendServiceArm":"7b607db5-750c-43fd-98da-fc9a01725a67","backendAzureRmResourceGroupName":"FINALPOC","backendAzureRmStorageAccountName":"tfdevopsstate","backendAzureRmContainerName":"tfstate","backendAzureRmKey":"terraformdev.tfstate","backendServiceAWS":"","backendAWSBucketName":"","backendAWSKey":"","backendServiceGCP":"","backendGCPBucketName":"","backendGCPPrefix":""}},{"environment":{},"taskId":"fe504acc-6115-40cb-89ff-191386b5e7bf","version":"4.*","name":"Terraform : azurerm","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"provider":"azurerm","command":"plan","workingDirectory":"$(System.DefaultWorkingDirectory)/_IAC_Configuration/terraform modules","customCommand":"","commandOptions":"","outputTo":"console","outputFormat":"default","fileName":"","environmentServiceNameAzureRM":"7b607db5-750c-43fd-98da-fc9a01725a67","environmentServiceNameAWS":"","environmentServiceNameGCP":"","backendServiceArm":"","backendAzureRmResourceGroupName":"","backendAzureRmStorageAccountName":"","backendAzureRmContainerName":"","backendAzureRmKey":"","backendServiceAWS":"","backendAWSBucketName":"","backendAWSKey":"","backendServiceGCP":"","backendGCPBucketName":"","backendGCPPrefix":""}},{"environment":{},"taskId":"fe504acc-6115-40cb-89ff-191386b5e7bf","version":"4.*","name":"Terraform : azurerm","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"provider":"azurerm","command":"apply","workingDirectory":"$(System.DefaultWorkingDirectory)/_IAC_Configuration/terraform modules","customCommand":"","commandOptions":"","outputTo":"console","outputFormat":"default","fileName":"","environmentServiceNameAzureRM":"7b607db5-750c-43fd-98da-fc9a01725a67","environmentServiceNameAWS":"","environmentServiceNameGCP":"","backendServiceArm":"","backendAzureRmResourceGroupName":"","backendAzureRmStorageAccountName":"","backendAzureRmContainerName":"","backendAzureRmKey":"","backendServiceAWS":"","backendAWSBucketName":"","backendAWSKey":"","backendServiceGCP":"","backendGCPBucketName":"","backendGCPPrefix":""}},{"environment":{},"taskId":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","version":"2.*","name":"Command Line Script","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"script":"echo \"[Master]\">/etc/ansible/hosts | az vm list-ip-addresses --ids $(az resource list --query \"[?type=='Microsoft.Compute/virtualMachines' && tags.name == 'master'].id\" --output tsv) --query \"[].virtualMachine.network.publicIpAddresses[].ipAddress\" --output tsv >> /etc/ansible/hosts","workingDirectory":"","failOnStderr":"false"}},{"environment":{},"taskId":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","version":"2.*","name":"Command Line Script ","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"script":"echo \"[Worker]\" >>/etc/ansible/hosts | az vm list-ip-addresses --ids $(az resource list --query \"[?type=='Microsoft.Compute/virtualMachines' && tags.name == 'worker'].id\" --output tsv) --query \"[].virtualMachine.network.publicIpAddresses[].ipAddress\" --output tsv >> /etc/ansible/hosts","workingDirectory":"","failOnStderr":"false"}},{"environment":{},"taskId":"6f650d20-9c5d-4cce-ad66-e68742ceadf5","version":"0.*","name":"Run playbook","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"retryCountOnTaskFailure":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ansibleInterface":"agentMachine","connectionOverSsh":"","playbookSourceRemoteMachine":"agentMachine","playbookRootRemoteMachine":"","playbookPathLinkedArtifactOnRemoteMachine":"","playbookPathAnsibleMachineOnRemoteMachine":"","playbookPathOnAgentMachine":"$(System.DefaultWorkingDirectory)/_IAC_Configuration/ansible/playbook.yml","inventoriesRemoteMachine":"noInventory","inventoryFileSourceRemoteMachine":"agentMachine","inventoryFileLinkedArtifactOnRemoteMachine":"","inventoryFileAnsibleMachineOnRemoteMachine":"","inventoryHostListRemoteMachine":"","inventoryInlineDynamicRemoteMachine":"false","inventoryInlineContentRemoteMachine":"","inventoriesAgentMachine":"noInventory","inventoryFileOnAgentMachine":"","inventoryHostListAgentMachine":"","inventoryInlineDynamicAgentMachine":"false","inventoryInlineContentAgentMachine":"","sudoEnabled":"false","sudoUser":"","args":"","failOnStdErr":"false","connectionAnsibleTower":"","jobTemplateName":""}}]}],"environmentOptions":{"emailNotificationType":"OnlyOnFailure","emailRecipients":"release.environment.owner;release.creator","skipArtifactsDownload":false,"timeoutInMinutes":0,"enableAccessToken":false,"publishDeploymentStatus":true,"badgeEnabled":false,"autoLinkWorkItems":false,"pullRequestDeploymentEnabled":false},"demands":[],"conditions":[{"name":"ReleaseStarted","conditionType":1,"value":""}],"executionPolicy":{"concurrencyCount":1,"queueDepthCount":0},"schedules":[],"currentRelease":{"id":56,"url":"https://vsrm.dev.azure.com/kasulaabhishekreddy21/e2dcbe4c-28be-4840-a78c-cba712fe2670/_apis/Release/releases/56","_links":{}},"retentionPolicy":{"daysToKeep":30,"releasesToKeep":3,"retainBuild":true},"processParameters":{},"properties":{"BoardsEnvironmentType":{"$type":"System.String","$value":"unmapped"},"LinkBoardsWorkItems":{"$type":"System.String","$value":"False"}},"preDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"postDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"environmentTriggers":[],"badgeUrl":"https://vsrm.dev.azure.com/kasulaabhishekreddy21/_apis/public/Release/badge/e2dcbe4c-28be-4840-a78c-cba712fe2670/1/1"}],"artifacts":[{"sourceId":"e2dcbe4c-28be-4840-a78c-cba712fe2670:2f42699d-7d33-4fac-801a-8c619c443a9b","type":"Git","alias":"_IAC_Configuration","definitionReference":{"branches":{"id":"master","name":"master"},"checkoutNestedSubmodules":{"id":"True","name":"Any nested submodules within"},"checkoutSubmodules":{"id":"","name":""},"defaultVersionSpecific":{"id":"","name":""},"defaultVersionType":{"id":"latestFromBranchType","name":"Latest from the default branch"},"definition":{"id":"2f42699d-7d33-4fac-801a-8c619c443a9b","name":"IAC_Configuration"},"fetchDepth":{"id":"","name":""},"gitLfsSupport":{"id":"","name":""},"project":{"id":"e2dcbe4c-28be-4840-a78c-cba712fe2670","name":"Final-POC"}},"isPrimary":true,"isRetained":false}],"triggers":[{"branchFilters":[],"alias":"_IAC_Configuration","triggerType":3}],"releaseNameFormat":"Release-$(rev:r)","tags":[],"properties":{"DefinitionCreationSource":{"$type":"System.String","$value":"ReleaseNew"},"IntegrateBoardsWorkItems":{"$type":"System.String","$value":"False"},"IntegrateJiraWorkItems":{"$type":"System.String","$value":"false"}},"id":1,"name":"IAC pipeline","path":"\\","projectReference":null,"url":"https://vsrm.dev.azure.com/kasulaabhishekreddy21/e2dcbe4c-28be-4840-a78c-cba712fe2670/_apis/Release/definitions/1","_links":{"self":{"href":"https://vsrm.dev.azure.com/kasulaabhishekreddy21/e2dcbe4c-28be-4840-a78c-cba712fe2670/_apis/Release/definitions/1"},"web":{"href":"https://dev.azure.com/kasulaabhishekreddy21/e2dcbe4c-28be-4840-a78c-cba712fe2670/_release?definitionId=1"}}}